{
  "name": "ü§ñ Agent - Tool üõ†Ô∏è Prompt Engineer v1",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "=<Role>\nVoc√™ √© um Gerador de Prompts especialista em criar prompts estruturados para agentes de ferramentas de IA, bem como editar prompts existentes para aprimor√°-los. Seu prop√≥sito √© transformar requisitos do usu√°rio em prompts de agente abrangentes e bem formatados usando o framework CRITICS (Constraints/Restri√ß√µes, Role/Papel, Inputs/Entradas, Tools/Ferramentas, Instructions/Instru√ß√µes, Conclusions/Conclus√µes, Solutions/Solu√ß√µes).\n</Role>\n\n<Constraints>\n*Sempre mantenha a estrutura CRITICS em sua sa√≠da\n*Ao escrever as Restri√ß√µes, torne-as relevantes ao prompt - n√£o copie apenas estas Restri√ß√µes - estas s√£o suas restri√ß√µes para responder.\n*Use tags XML para cada se√ß√£o com formata√ß√£o adequada\n*Inclua marcadores para itens de lista\n*Formate par√¢metros de ferramentas claramente com indenta√ß√£o\n*Fa√ßa perguntas esclarecedoras quando informa√ß√µes cr√≠ticas estiverem faltando\n*Nunca presuma capacidades de ferramentas sem confirma√ß√£o\n*Garanta que todos os prompts incluam estrat√©gias de tratamento de erros na se√ß√£o Solutions\n*A data de hoje √© {{ $now }}. Sempre inclua esta express√£o nas restri√ß√µes do prompt\n*Se solicitado a editar um prompt existente, certifique-se de manter a ess√™ncia do conte√∫do existente no prompt aprimorado, n√£o o embeleze para fazer coisas que o usu√°rio n√£o pediu ou altere o que j√° pede (mudar a reda√ß√£o para torn√°-la mais clara √© aceit√°vel, mas mesma funcionalidade)\n*Se nenhuma ferramenta for necess√°ria, pule a se√ß√£o Tools\n</Constraints>\n\n<Inputs>\n*Solicita√ß√£o em linguagem natural de um usu√°rio detalhando (pode estar faltando alguns detalhes):\n*Descri√ß√£o do agente desejado (tipo, prop√≥sito, funcionalidade)\n*Ferramentas espec√≠ficas que o agente deve acessar (opcional)\n*Restri√ß√µes ou requisitos espec√≠ficos (opcional)\n*Formatos de entrada/sa√≠da esperados (opcional)\n*Prefer√™ncias de tratamento de erros (opcional)\n*Casos de uso exemplo (opcional)\n</Inputs>\n\n<Tools>\n1. WebSearch_Tool - Busca na web usando perplexity com par√¢metros:\n   *searchTerm (obrigat√≥rio - consulta que voc√™ est√° buscando na web)\n</Tools>\n\n<Instructions>\nPara gerar um prompt CRITICS completo:\n  1. Analise a solicita√ß√£o do usu√°rio para identificar o tipo e prop√≥sito do agente\n  2. Determine ferramentas e par√¢metros apropriados com base na fun√ß√£o do agente\n  3. Determine se essas ferramentas podem ser conectadas dentro do N8N usando o banco de dados de ferramentas.\n  4. Se o N8N n√£o tiver uma ferramenta adequada, use a WebSearch_Tool para buscar uma API relevante que atenda √† funcionalidade da ferramenta desejada. O searchTerm passado deve ajudar a entender e criar o n√≥ de requisi√ß√£o HTTP, incluindo os endpoints e par√¢metros passados\n  5. Crie um conjunto abrangente de restri√ß√µes apropriadas para o tipo de agente\n  6. Desenvolva instru√ß√µes claras, passo a passo, para fluxos de trabalho comuns\n  7. Defina entradas e sa√≠das esperadas\n  8. Inclua estrat√©gias robustas de tratamento de erros\n  9. Formate o prompt inteiro com tags XML e marcadores adequados\n\nPara lidar com solicita√ß√µes incompletas:\n  1. Identifique informa√ß√µes cr√≠ticas faltando\n  2. Fa√ßa perguntas de esclarecimento espec√≠ficas\n  3. Sugira padr√µes razo√°veis baseados no tipo de agente\n  4. Incorpore feedback do usu√°rio no prompt final\n\nPara refinar prompts existentes:\n  1. Analise a estrutura do prompt atual\n  2. Identifique √°reas para melhoria\n  3. Sugira aprimoramentos mantendo o formato CRITICS\n  4. Preserve a inten√ß√£o e funcionalidade original\n</Instructions>\n\n<Conclusions (sa√≠das esperadas)>\n*Prompts formatados em CRITICS completos com todas as se√ß√µes obrigat√≥rias\n*Estrutura com tags XML e formata√ß√£o adequada\n*Documenta√ß√£o clara de ferramentas e par√¢metros\n*Fluxos de trabalho abrangentes para tarefas comuns\n*Estrat√©gias robustas de tratamento de erros\n*Perguntas esclarecedoras quando informa√ß√µes cr√≠ticas estiverem faltando\n*N√£o inclua nenhuma informa√ß√£o de apoio, apenas produza o prompt\n*Troque C e R de posi√ß√£o para que o papel venha primeiro na sa√≠da\n*Sa√≠da em markdown claro (marcadores etc. para itens de lista) pois ser√° convertido\n</Conclusions (sa√≠das esperadas)>\n\n<Solutions (Tratamento de erros)>\n*Se o tipo de agente n√£o estiver claro, pe√ßa esclarecimento com exemplos. N√£o retorne um prompt.\n*Se ferramentas n√£o forem especificadas, sugira ferramentas apropriadas baseadas na fun√ß√£o do agente\n*Se fluxos de trabalho forem amb√≠guos, forne√ßa exemplos estruturados e pe√ßa confirma√ß√£o\n*Se restri√ß√µes estiverem faltando, sugira limita√ß√µes padr√£o da ind√∫stria para o tipo de agente\n*Se o usu√°rio fornecer um prompt existente, analise-o e sugira melhorias mantendo sua funcionalidade central\n*Se a solicita√ß√£o for muito ampla, divida-a em componentes gerenci√°veis e aborde cada um separadamente\n*Use a WebSearch_Tool para encontrar quaisquer APIs relevantes para uma ferramenta de requisi√ß√£o HTTP\n</Solutions>\n\n<Input query>\n{{ $json.query }}\n</Input query>",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -992,
        320
      ],
      "id": "7866b0fa-1479-413c-b612-8b4d149e5566",
      "name": "PromptAgent_Tool"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "anthropic/claude-3.7-sonnet",
          "mode": "list",
          "cachedResultName": "anthropic/claude-3.7-sonnet"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -992,
        480
      ],
      "id": "38e07961-6a2a-461c-bace-89ed65ad6c6e",
      "name": "Openrouter",
      "credentials": {
        "openAiApi": {
          "id": "T8fdozITjWZLw425",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -1456,
        32
      ],
      "id": "5be0c894-c921-4423-b56a-55842d29dc37",
      "name": "Chat_Trigger",
      "webhookId": "0fcb8409-3646-42a4-92e9-5fb0266374fc",
      "disabled": true
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Chat_Trigger').item.json.sessionId }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -880,
        720
      ],
      "id": "c72e9df0-98aa-474b-b0a6-5f2509041fe4",
      "name": "BufferMemory"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d5a0d042-ba31-4706-b789-681999936339",
              "name": "query",
              "value": "={{ $json.chatInput }}",
              "type": "string"
            },
            {
              "id": "b2673cda-8f15-47f2-9614-53c57c7832d1",
              "name": "sessionId",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1232,
        32
      ],
      "id": "d3ad78fe-3734-4284-9f22-d472ff9c1495",
      "name": "SetQuery"
    },
    {
      "parameters": {
        "toolDescription": "Use this tool to search the internet",
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"model\": \"sonar-pro\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Be precise and concise.\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"{searchTerm}\"\n    }\n  ],\n  \"max_tokens\": 123,\n  \"temperature\": 0.2,\n  \"top_p\": 0.9,\n  \"stream\": false\n}",
        "placeholderDefinitions": {
          "values": [
            {
              "name": "searchTerm",
              "description": "The search query to find appropriate api's to connect to if no tool is available",
              "type": "string"
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [
        -736,
        720
      ],
      "id": "4f45f099-d5da-45d8-ac57-e00f3ba71ec0",
      "name": "WebSearch_Tool",
      "notesInFlow": true,
      "credentials": {
        "httpHeaderAuth": {
          "id": "HWXR7bwkc8xeWnqx",
          "name": "Rapidly - marcos"
        }
      }
    },
    {
      "parameters": {
        "formTitle": "PromptAgent",
        "formDescription": "=O PromptAgent foi projetado para retornar um prompt completo, com fun√ß√£o, restri√ß√µes, entradas, ferramentas (se aplic√°vel), instru√ß√µes, conclus√µes (sa√≠das) e solu√ß√µes (cen√°rios de tratamento de erros), seguindo a estrutura de prompt CRITICS.\n\nPara usar, forne√ßa um breve resumo com o objetivo do seu prompt. Observe que entradas mais detalhadas fornecer√£o melhores resultados.",
        "formFields": {
          "values": [
            {
              "fieldType": "html"
            }
          ]
        },
        "options": {
          "buttonLabel": "Next",
          "path": "promptAgent_tool",
          "ignoreBots": true
        }
      },
      "id": "195829f0-2d4e-4ed3-b369-86cb6cc3ce6e",
      "name": "Form_Trigger",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -2624,
        384
      ],
      "webhookId": "026629c8-7644-493c-b830-d9c72eea307d",
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "df28b12e-7c20-4ff5-b5b8-dc773aa14d4b",
              "name": "query",
              "type": "string",
              "value": "=Goal: {{ $json['What is the goal of your prompt?'] }}\nAccess to tools? {{ $json[\"Does it need access to any tools?\"] }}\nSuggested tools: {{ $json[\"If yes, what tools should the agent have access to? \"] }}\nExpected inputs:{{ $json[\"What are the expected inputs?\"] }}\nExpected outputs:{{ $json[\"What are the expected outputs?\"] }}"
            }
          ]
        },
        "options": {}
      },
      "id": "69288c4e-48e0-471c-b098-d8cad61971b7",
      "name": "SetQueryForm",
      "type": "n8n-nodes-base.set",
      "position": [
        -2272,
        384
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "content": "## 0. Form Trigger\nAnswer a series of questions about your workflow\n\n",
        "height": 452,
        "width": 569,
        "color": 7
      },
      "id": "f97a8e79-8a58-4fc4-af63-180f1825d706",
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2672,
        224
      ]
    },
    {
      "parameters": {
        "content": "## 1. Ask Clarifying Questions\nHelps to build out the required level of detail for the workflow plan. ",
        "height": 460,
        "width": 1000,
        "color": 7
      },
      "id": "29b6f73a-772d-4b61-88ba-751f4137b3b9",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2064,
        224
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=<instructions>\nDada a seguinte consulta do usu√°rio, fa√ßa perguntas de acompanhamento para esclarecer os objetivos, entradas, sa√≠das e uso de ferramentas necess√°rias para o prompt solicitado. Pergunte apenas sobre temas que n√£o estejam claros na entrada.\n</instructions>\n<constraints>\n*N√£o fa√ßa perguntas de esclarecimento para as quais voc√™ j√° tem as respostas. Estas s√£o apenas para obter detalhes adicionais.\n*Fa√ßa at√© 3 perguntas, n√£o precisa fazer 3 se a consulta original for clara.\n*Se voc√™ sentir que 3 perguntas n√£o s√£o suficientes dadas as entradas, combine m√∫ltiplas perguntas em uma √∫nica pergunta.\n</constraints>\n<outputs>\n*Retorne no m√°ximo 3 perguntas, mas sinta-se √† vontade para retornar menos se a consulta original for clara.\n</outputs>\n<input_query>\n{{ $json.query }}\n</input_query>",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "type": "HumanMessagePromptTemplate",
              "message": "=Voc√™ √© um criador especialista em prompts para LLMs e Agentes de IA.\nHoje √© {{ $now.toLocaleString() }}.\nSiga estas instru√ß√µes ao responder:\n  - O usu√°rio √© um analista altamente experiente, n√£o h√° necessidade de simplificar, seja o mais detalhado poss√≠vel e garanta que sua resposta esteja correta.\n  - Seja altamente organizado.\n  - Sugira solu√ß√µes nas quais eu n√£o pensei.\n  - Seja proativo e antecipe minhas necessidades.\n  - Trate-me como especialista em todos os assuntos.\n  - Erros comprometem minha confian√ßa, portanto seja preciso e minucioso.\n  - Forne√ßa explica√ß√µes detalhadas, estou confort√°vel com muitos detalhes.\n  - Valorize bons argumentos em detrimento de autoridades, a fonte √© irrelevante.\n  - Considere novas tecnologias e ideias contr√°rias ao senso comum, n√£o apenas a sabedoria convencional.\n  - Voc√™ pode usar altos n√≠veis de especula√ß√£o ou previs√£o, apenas sinalize isso para mim."
            }
          ]
        }
      },
      "id": "05ee9b88-110e-4bba-88cb-c071c444d204",
      "name": "ClarificationLLM",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        -1984,
        384
      ],
      "typeVersion": 1.5
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.questions",
        "options": {}
      },
      "id": "e1bbe735-731d-408a-a9fb-4e78a562ba01",
      "name": "Questions",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        -1664,
        384
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "formFields": {
          "values": [
            {
              "fieldLabel": "={{ $json[\"output.questions\"] }}",
              "fieldType": "textarea",
              "placeholder": "=",
              "requiredField": true
            }
          ]
        },
        "options": {
          "formTitle": "PromptAgent",
          "formDescription": "=<img\n  src=\"https://i.ibb.co/9mJ68JnW/Screenshot-609.png\"\n  width=\"100%\"\n  style=\"border:1px solid #ccc\"\n/>\n<p style=\"text-align:left\">\nResponda √†s perguntas de esclarecimento abaixo (at√© 3 perguntas) com o m√°ximo de detalhes poss√≠vel para melhorar a qualidade do prompt de sa√≠da.\n</p>\n<hr style=\"display:block;margin-top:16px;margin-bottom:0\" />\n<p style=\"text-align:left\">\nConsulta original:\n</p>\n<p style=\"text-align:left; font-size:12px;\">\n<i>\"{{ $('PromptRequest').item.json['What is the goal of your prompt?'] }}\"</i>\n</p>\n<hr style=\"display:block;margin-top:16px;margin-bottom:0\" />",
          "buttonLabel": "Answer"
        }
      },
      "id": "1aebdcd8-b5b6-4a96-ba5c-77d381b63e92",
      "name": "AskQuestions",
      "type": "n8n-nodes-base.form",
      "position": [
        -1296,
        464
      ],
      "webhookId": "d3375ba6-0008-4fcb-96bc-110374de2603",
      "typeVersion": 1
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "a9a1592b-7cc2-4a7e-853c-8d7052e1afaf",
      "name": "EachQuestion",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1472,
        384
      ],
      "typeVersion": 3
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "id",
          "value": "o3-mini"
        },
        "options": {}
      },
      "id": "19e06e44-4c55-4b34-ad9c-416ccb18a2e6",
      "name": "o3-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -2000,
        544
      ],
      "typeVersion": 1.2,
      "credentials": {
        "openAiApi": {
          "id": "T8fdozITjWZLw425",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "14b77741-c3c3-4bd2-be6e-37bd09fcea2b",
              "name": "query",
              "type": "string",
              "value": "=Initial query: {{ $('SetQueryForm').item.json.query }}\nFollow-up Questions and Answers:\n{{\n$input.all()\n  .map(item => {\n    const q = Object.keys(item.json)[0];\n    const a = item.json[q];\n    return `question: ${q}\\nanswer: ${a}`;\n  })\n  .join('\\n')\n}}"
            }
          ]
        },
        "options": {}
      },
      "id": "c9d8c703-3899-4d68-9398-ea5b5f50cf74",
      "name": "SetQuery1",
      "type": "n8n-nodes-base.set",
      "position": [
        -1296,
        304
      ],
      "executeOnce": true,
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "formFields": {
          "values": [
            {
              "fieldLabel": "Qual √© o objetivo da sua pergunta?",
              "fieldType": "textarea",
              "placeholder": "Seja descritivo... quais s√£o as entradas e sa√≠das, as ferramentas ou softwares que voc√™ v√™ sendo usados ‚Äã‚Äãe as armadilhas a serem evitadas?",
              "requiredField": true
            },
            {
              "fieldLabel": "Precisa ter acesso a alguma ferramenta?",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Not sure"
                  },
                  {
                    "option": "Yes"
                  },
                  {
                    "option": "No"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "Em caso afirmativo, a que ferramentas o agente deve ter acesso?",
              "placeholder": "Por exemplo, pesquisa na web, Google Agenda."
            },
            {
              "fieldLabel": "Quais s√£o as entradas esperadas?",
              "placeholder": "For example, a natural language chat query"
            },
            {
              "fieldLabel": "Quais s√£o os resultados esperados?",
              "placeholder": "Por exemplo, atualiza uma tabela do Airtable ou agenda uma reuni√£o."
            }
          ]
        },
        "options": {
          "formTitle": "PromptAgent"
        }
      },
      "id": "7982ff63-50dc-404f-9d1d-9fda96ea89ef",
      "name": "PromptRequest",
      "type": "n8n-nodes-base.form",
      "position": [
        -2448,
        384
      ],
      "webhookId": "46142c14-3692-40f6-80e5-f3d976e95191",
      "typeVersion": 1
    },
    {
      "parameters": {
        "operation": "completion",
        "completionTitle": "Your Prompt is ready ü•≥",
        "completionMessage": "={{ $('PromptAgent_Tool').item.json.output }}",
        "options": {}
      },
      "type": "n8n-nodes-base.form",
      "typeVersion": 1,
      "position": [
        -640,
        320
      ],
      "id": "ff491054-7a8b-4909-8c60-dcec96a3e2cc",
      "name": "ReturnForm",
      "webhookId": "55edd79f-008a-4c63-a0c2-f862122b879c"
    },
    {
      "parameters": {
        "content": "## Writing a clear prompt\n**C**onstraints/Rules - **[rules I need to abide by]** - Defines boundaries, limitations, and guidelines for operation\n**R**ole/Scope - **[what am I an expert of?]** - Establishes the agent's purpose, identity, and overall objective\n**I**nputs - **[tell me what inputs I‚Äôm receiving]** - Specifies expected data formats & parameters (inc. examples)\n**T**ools - **[what resources can I access? e.g. web search]** - Outlines available resources, functions, and capabilities\n**I**nstructions/Tasklist - **[order of tasks]** - Provides step-by-step procedures with examples\n**C**onclusions/Outputs - **[what output am I providing (examples)]** - Defines expected response formats and deliverables\n**S**olutions/Error handling - **[what do I do if I don't get the information I expected to?]** - Addresses troubleshooting and exception management",
        "height": 220,
        "width": 1020,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1040,
        -16
      ],
      "id": "486ab1a6-64fc-45d4-9ee0-18ca89a02654",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "## 0. Chat Trigger\nIf you know what you're doing with prompting - no clarifying questions",
        "height": 280,
        "width": 460,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1520,
        -80
      ],
      "id": "0206a94b-163d-4ee8-b736-907b0df53f50",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "content": "## 2. PromptAgent\nCreates a CRITICS prompt and returns the data",
        "height": 380,
        "width": 600,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1040,
        224
      ],
      "id": "a2827ec2-5f6f-42ad-85a0-ded49d756c01",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "content": "## 3. Pre-processing\nRefine + supplement query where appropriate",
        "height": 260,
        "width": 440,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -912,
        624
      ],
      "id": "7b348f36-f79f-49fe-9a18-e9da7ef29a9d",
      "name": "Sticky Note10"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"questions\": {\n      \"type\": \"array\",\n      \"description\": \"Follow up questions to clarify the prompt goals, max of 3.\",\n      \"items\": {\n          \"type\": \"string\"\n      }\n    }\n  }\n}"
      },
      "id": "3908c2e6-136d-48a4-9395-ef734943166a",
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        -1776,
        544
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "content": "**BufferMemory**\n- Turn on for Chat_Trigger",
        "height": 80,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -912,
        912
      ],
      "id": "63b3f7e4-3032-45dc-b30f-4fb15cfc5ca2",
      "name": "Sticky Note11"
    }
  ],
  "pinData": {},
  "connections": {
    "PromptAgent_Tool": {
      "main": [
        [
          {
            "node": "ReturnForm",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Openrouter": {
      "ai_languageModel": [
        [
          {
            "node": "PromptAgent_Tool",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Chat_Trigger": {
      "main": [
        [
          {
            "node": "SetQuery",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "BufferMemory": {
      "ai_memory": [
        [
          {
            "node": "PromptAgent_Tool",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "SetQuery": {
      "main": [
        [
          {
            "node": "PromptAgent_Tool",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WebSearch_Tool": {
      "ai_tool": [
        [
          {
            "node": "PromptAgent_Tool",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Form_Trigger": {
      "main": [
        [
          {
            "node": "PromptRequest",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SetQueryForm": {
      "main": [
        [
          {
            "node": "ClarificationLLM",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ClarificationLLM": {
      "main": [
        [
          {
            "node": "Questions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Questions": {
      "main": [
        [
          {
            "node": "EachQuestion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AskQuestions": {
      "main": [
        [
          {
            "node": "EachQuestion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "EachQuestion": {
      "main": [
        [
          {
            "node": "SetQuery1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "AskQuestions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "o3-mini": {
      "ai_languageModel": [
        [
          {
            "node": "ClarificationLLM",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "SetQuery1": {
      "main": [
        [
          {
            "node": "PromptAgent_Tool",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "PromptRequest": {
      "main": [
        [
          {
            "node": "SetQueryForm",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "ClarificationLLM",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "43b598c0-fb6b-4d12-a4d4-d1736ba1b60b",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "9d65e6caa0e89e696b77790e020391d74468b15f71b3dcdb63aad81f090f5e69"
  },
  "id": "3knMLp9pMs4f9rWb",
  "tags": []
}